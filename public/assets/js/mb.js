webpackJsonp([0],{121:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(53),a=n(196),u=r(a);t.default={selectSubject:(0,o.createAction)("SELECT_SUBJECT"),loadSubject:(0,o.createAction)("LOAD_SUBJECT",u.default.subject)}},122:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(53),a=n(196),u=r(a);t.default={loadComingSoon:(0,o.createAction)("LOAD_COMING_SOON",u.default.comingSoon),loadInTheaters:(0,o.createAction)("LOAD_IN_THEATERS",u.default.inTheaters),loadSubject:(0,o.createAction)("LOAD_SUBJECT",u.default.subject),loadTop20:(0,o.createAction)("LOAD_TOP_20",u.default.top20),search:(0,o.createAction)("SEARCH",u.default.search)}},196:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(308);t.default={comingSoon:(0,r.get)("/data/coming_soon.json"),inTheaters:(0,r.get)("/data/in_theaters.json"),search:(0,r.get)("/api/movie/search",{cache:sessionStorage},function(e){return{q:e.query,count:50}}),subject:(0,r.get)(function(e){return"/api/movie/subject/"+e},{requiresAPIKey:!0,cache:sessionStorage},function(){return null}),top20:(0,r.get)("/data/top20.json")}},197:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(53);t.default={load:(0,r.createAction)("LOAD"),loadComplete:(0,r.createAction)("LOAD_COMPLETE")}},198:function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,i,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(95),f=r(s),p=n(12),d=r(p),y=n(1),b=r(y),m=n(317),h=r(m);n(531);var v=(i=l=function(t){function n(){return o(this,n),a(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return u(n,t),c(n,[{key:"shouldComponentUpdate",value:function(e){var t=!1;return e.hasSelection!==this.props.hasSelection?t=!0:e.selectedSubjectId!==this.props.selectedSubjectId&&this.props.hasSelection&&(t=!0),e.subjects!==this.props.subjects&&(t=!0),t}},{key:"render",value:function(){var t=this.props,n=t.actions,r=t.selectedSubjectId,o=t.subjects,a=o.map(function(t){return b.default.createElement("li",{key:t.get("id"),className:(0,f.default)("mb-lomo-covers-cell",{selected:r===t.get("id")}),onClick:function(o){if(r===t.get("id"))n.selectSubject(null);else{n.selectSubject(t);var a=o.currentTarget.offsetParent;setTimeout(function(){e(document.body).animate({scrollTop:a.offsetTop+a.offsetParent.offsetTop-e(".mb-app-header").height()-8},250)},400)}}},b.default.createElement(h.default,{subject:t}))}).toArray();return b.default.createElement("ul",{className:"mb-lomo-covers"},a)}}]),n}(b.default.Component),l.propTypes={actions:b.default.PropTypes.shape({selectSubject:b.default.PropTypes.func.isRequired}).isRequired,hasSelection:b.default.PropTypes.bool,selectedSubjectId:b.default.PropTypes.string,subjects:b.default.PropTypes.objectOf(d.default.List).isRequired},l.defaultProps={hasSelection:!1,selectedSubjectId:null},i);t.default=v}).call(t,n(81))},199:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,i,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),f=r(s);n(538);var p=(i=l=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),c(t,[{key:"shouldComponentUpdate",value:function(e){return e.stars!==this.props.stars}},{key:"render",value:function(){for(var e=this.props.stars,t=[],n=0;n<50;n+=10)e-n>=10?t.push(f.default.createElement("div",{className:"star",key:n})):e-n===5?t.push(f.default.createElement("div",{className:"half star",key:n},f.default.createElement("div",{className:"inner-star"}))):t.push(f.default.createElement("div",{className:"zero star",key:n}));return f.default.createElement("div",{className:"mb-rating-stars"},t)}}]),t}(f.default.Component),l.propTypes={stars:f.default.PropTypes.number.isRequired},i);t.default=p},303:function(e,t,n){"use strict";(function(e){function t(e){return e&&e.__esModule?e:{default:e}}var r=n(1),o=t(r),a=n(82),u=n(45),l=n(192),i=n(340),c=n(338);n(525);var s=(0,i.configStore)();e(function(){(0,l.render)(o.default.createElement(u.Provider,{store:s},o.default.createElement(a.Router,{history:a.browserHistory},(0,c.configRoutes)())),document.getElementById("mbMountPoint"));try{console.log("%c","padding: 20px 300px; line-height: 50px; background:url(http://henryli-movie-board.daoapp.io/assets/images/mb-logo.png) no-repeat;")}catch(e){}console.info("WELCOME ABOARD, DEVELOPERS!"),console.info("Feel free to send me email via henry1943@163.com"),console.info("And don't forget to star my project on Github :)"),console.info("%c想看源代码？不用麻烦，这是一个开源项目","font-size: 16px; color: #E50914;"),console.info("%c直接 Star 我的 Github 项目呗！","font-size: 16px; color: #E50914;"),console.info("%chttps://github.com/MagicCube/movie-board/","font-size: 14px;")})}).call(t,n(81))},307:function(e,t,n){e.exports=n.p+"index.html"},308:function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,a){try{var u=t[o](a),l=u.value}catch(e){return void n(e)}return u.done?void e(l):Promise.resolve(l).then(function(e){r("next",e)},function(e){r("throw",e)})}return r("next")})}}function a(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.requiresAPIKey,o=void 0!==r&&r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.ajax({url:t,data:i({},a,{apiKey:o?f:void 0})})}function u(e,t){return e+"|"+(t?JSON.stringify(t):"")}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{requresAPIKey:!1,cache:!1},n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e},l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e){return s.default.fromJS(e)};return function(){var i=o(regeneratorRuntime.mark(function o(i){var c,s,f,p,d,y,b;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(c=null,c="function"==typeof e?e(i):e,s=r(i),f=u(c,s),p=t.cache,!p.getItem){n.next=9;break}if(!p.getItem(f)){n.next=9;break}return d=JSON.parse(p.getItem(f)),n.abrupt("return",l(d));case 9:return n.next=11,a(c,t,s);case 11:return y=n.sent,p.getItem&&p.setItem(f,JSON.stringify(y)),b=l(y),n.abrupt("return",b);case 15:case"end":return n.stop()}},o,n)}));return function(e){return i.apply(this,arguments)}}()}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.get=l;var c=n(12),s=r(c),f="0df993c66c0c636e29ecbb5344252a4a"}).call(t,n(81))},309:function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=r(o);n(522),t.default=e.pure(function(){return a.default.createElement("footer",{className:"mb-app-footer"},a.default.createElement("div",{className:"copyright"},"© 2016-2017 ",a.default.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:"https://github.com/MagicCube"},"MagicCube"),". Designed and implemented by ",a.default.createElement("a",{href:"mailto:henry1943@163.com"},"Henry Li"),"."),a.default.createElement("a",{className:"github",href:"http://github.com/MagicCube/movie-board"},"Fork on Github"))})}).call(t,n(193))},310:function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,i,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(82),f=n(95),p=r(f),d=n(1),y=r(d);n(523);var b=(i=l=function(t){function n(e){o(this,n);var t=a(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.state={translucent:!1},t}return u(n,t),c(n,[{key:"componentDidMount",value:function(){var t=this;e(document).on("scroll",function(){var e=document.body.scrollTop>5;t.state.translucent!==e&&t.setState({translucent:e})})}},{key:"render",value:function(){return y.default.createElement("header",{className:(0,p.default)("mb-app-header",{translucent:this.state.translucent})},y.default.createElement("div",{className:"mb-logo",onClick:function(){return s.browserHistory.push("/")}}),y.default.createElement("div",{className:"navbars"},this.props.navbars))}}]),n}(y.default.PureComponent),l.propTypes={navbars:y.default.PropTypes.oneOfType([y.default.PropTypes.element,y.default.PropTypes.arrayOf(y.default.PropTypes.element)])},l.defaultProps={navbars:[]},i);t.default=b}).call(t,n(81))},311:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,i,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(12),f=r(s),p=n(1),d=r(p),y=n(199),b=r(y),m=(i=l=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),c(t,[{key:"render",value:function(){var e=this.props.comment,t=e.get("content"),n=e.getIn(["author","name"]),r=10*e.getIn(["rating","value"]);return d.default.createElement("div",{className:"mb-lo-comment"},d.default.createElement("div",{className:"content"},t),d.default.createElement("div",{className:"info"},d.default.createElement("div",{className:"author"},n),d.default.createElement(b.default,{stars:r})))}}]),t}(d.default.PureComponent),l.propTypes={comment:d.default.PropTypes.objectOf(f.default.Map).isRequired},i);t.default=m},312:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.children,n=e.actions.close;return u.default.createElement("div",{className:"mb-jaw-bone"},u.default.createElement("div",{className:"jaw-bone-container"},t),u.default.createElement("a",{className:"close-button",role:"button",onClick:"function"==typeof n?n:null},u.default.createElement("i",{className:"octicon icon-x h2"})))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(1),u=r(a);n(526),o.propTypes={children:u.default.PropTypes.element.isRequired,actions:u.default.PropTypes.shape({close:u.default.PropTypes.func})},o.defaultProps={actions:{close:null}}},313:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,i,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(12),f=r(s),p=n(1),d=r(p);n(527);var y=(i=l=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),c(t,[{key:"render",value:function(){var e=this.props.casts,t=e.map(function(e){return d.default.createElement("li",{key:e.get("id")},d.default.createElement("a",null,d.default.createElement("div",{className:"thumbnail",style:{backgroundImage:"url("+e.getIn(["avatars","large"])+")"}}),d.default.createElement("div",{className:"title"},e.get("name"))))}).toArray();return d.default.createElement("ul",{className:"mb-lo-casts mb-lo-common"},t)}}]),t}(d.default.PureComponent),l.propTypes={casts:d.default.PropTypes.objectOf(f.default.List)},l.defaultProps={casts:f.default.fromJS([])},i);t.default=y},314:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,i,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(12),f=r(s),p=n(1),d=r(p),y=n(311),b=r(y);n(528);var m=(i=l=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),c(t,[{key:"render",value:function(){var e=this.props.comments,t=e.map(function(e){return d.default.createElement("li",{key:e.get("id")},d.default.createElement(b.default,{comment:e}))}).toArray();return d.default.createElement("ul",{className:"mb-lo-comments"},t)}}]),t}(d.default.PureComponent),l.propTypes={comments:d.default.PropTypes.objectOf(f.default.List)},l.defaultProps={comments:f.default.fromJS([])},i);t.default=m},315:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,i,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(95),f=r(s),p=n(1),d=r(p),y=n(120),b=r(y),m=(i=l=function(e){function t(){var e,n,r,u;o(this,t);for(var l=arguments.length,i=Array(l),c=0;c<l;c++)i[c]=arguments[c];return n=r=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.scrollLeft=function(){var e=r.getScroll();e-=r.scrollable.offsetWidth-40,e<0&&(e=0),r.setScroll(e)},r.scrollRight=function(){var e=r.getScroll();e+=r.scrollable.offsetWidth-40;var t=r.scrollable.scrollWidth-r.scrollable.offsetWidth;e>t&&(e=t),r.setScroll(e)},u=n,a(r,u)}return u(t,e),c(t,[{key:"getScroll",value:function(){var e=this.scrollable.style.transform;e.startsWith("translate")||(e="translateX(0px)");var t=parseInt(e.match(/\(([-\d]+)/)[1],0);return Math.abs(t)}},{key:"setScroll",value:function(e){this.scrollable.style.transform="translate("+-e+"px)"}},{key:"render",value:function(){var e=this,t=this.props,n=t.title,r=t.hasSelection,o=t.jawBone,a=d.default.Children.toArray(this.props.children);return d.default.createElement("div",{className:(0,f.default)("mb-lolomo-row",{"no-selection":!r},{"has-selection":r})},d.default.createElement("div",{className:"row-head"},d.default.createElement("a",{className:"title h3"},n)),d.default.createElement("div",{className:"row-content"},d.default.createElement("a",{className:"left scroll-button",role:"button",onClick:this.scrollLeft},d.default.createElement("i",{className:"octicon icon-chevron-left"})),d.default.createElement("div",{ref:function(t){e.scrollable=t},className:"scrollable"},a.length>0?a[0]:null),d.default.createElement("a",{className:"right scroll-button",role:"button",onClick:this.scrollRight},d.default.createElement("i",{className:"octicon icon-chevron-right"}))),d.default.createElement(b.default,{transitionName:"jaw-bone-transition",transitionEnterTimeout:400,transitionLeaveTimeout:300},o))}}]),t}(d.default.Component),l.propTypes={children:d.default.PropTypes.oneOfType([d.default.PropTypes.element,d.default.PropTypes.arrayOf(d.default.PropTypes.element)]),hasSelection:d.default.PropTypes.bool,jawBone:d.default.PropTypes.element,title:d.default.PropTypes.string.isRequired},l.defaultProps={children:null,hasSelection:!1,jawBone:null},i);t.default=m},316:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,i,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(12),f=r(s),p=n(1),d=r(p);n(529);var y=(i=l=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),c(t,[{key:"render",value:function(){var e=this.props.trailers,t=e.map(function(e){return d.default.createElement("li",{key:e.get("id")},d.default.createElement("a",null,d.default.createElement("div",{className:"thumbnail",style:{backgroundImage:"url("+e.getIn(["medium"])+")"}}),d.default.createElement("div",{className:"title"},e.get("title"))))}).toArray();return d.default.createElement("ul",{className:"mb-lo-trailers mb-lo-common"},t)}}]),t}(d.default.PureComponent),l.propTypes={trailers:d.default.PropTypes.objectOf(f.default.List)},l.defaultProps={trailers:f.default.fromJS([])},i);t.default=y},317:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,i,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(12),f=r(s),p=n(1),d=r(p);n(532);var y=(i=l=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),c(t,[{key:"shouldComponentUpdate",value:function(e){return e.subject.get("id")!==this.props.subject.get("id")}},{key:"render",value:function(){var e=this.props.subject;return d.default.createElement("div",{className:"mb-mo-cover"},d.default.createElement("div",{className:"cover-image",style:{backgroundImage:"url("+e.getIn(["images","large"])+")"}}))}}]),t}(d.default.Component),l.propTypes={subject:d.default.PropTypes.objectOf(f.default.Map).isRequired},i);t.default=y},318:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,i,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(12),f=r(s),p=n(1),d=r(p);n(533);var y={casts:"演员",directors:"导演",genres:"类型"},b=(i=l=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),c(t,[{key:"shouldComponentUpdate",value:function(e){return e.type!==this.props.type||!e.data.equals(this.props.data)}},{key:"render",value:function(){var e=this.props,t=e.data,n=e.type,r=null;return r="genres"===n?t.map(function(e){return d.default.createElement("li",{key:e},e)}):t.map(function(e){return d.default.createElement("li",{key:e.get("id")},e.get("name"))}),d.default.createElement("dl",{className:"mb-mo-detail-row "+n},d.default.createElement("dt",null,y[n]),d.default.createElement("dd",null,d.default.createElement("ul",null,r)))}}]),t}(d.default.Component),l.propTypes={data:d.default.PropTypes.objectOf(f.default.List).isRequired,type:d.default.PropTypes.string.isRequired},i);t.default=b},319:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,i,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(12),f=r(s),p=n(1),d=r(p),y=n(318),b=r(y),m=n(323),h=r(m);n(534);var v=(i=l=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),c(t,[{key:"render",value:function(){var e=this.props.subject,t=e.toJS(),n=t.year,r=e.get("rating"),o=e.get("casts"),a=e.get("directors"),u=e.get("genres"),l=e.get("summary");return d.default.createElement("div",{className:"mb-mo-general"},d.default.createElement("div",{className:"general"},d.default.createElement("div",{className:"rating-and-year"},d.default.createElement(h.default,{rating:r}),d.default.createElement("div",{className:"year"},n)),d.default.createElement("div",{className:"details"},d.default.createElement(b.default,{type:"casts",data:o}),d.default.createElement(b.default,{type:"directors",data:a}),d.default.createElement(b.default,{type:"genres",data:u})),d.default.createElement("div",{className:"summary"},l)))}}]),t}(d.default.PureComponent),l.propTypes={subject:d.default.PropTypes.objectOf(f.default.Map).isRequired},i);t.default=v},320:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,i,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(12),f=r(s),p=n(1),d=r(p),y=n(313),b=r(y),m=n(314),h=r(m),v=n(316),_=r(v),g=n(319),j=r(g),O=n(321),P=r(O),E=n(325),w=r(E),T=n(326),S=r(T);n(535);var M=(i=l=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),c(t,[{key:"shouldComponentUpdate",value:function(e){return null===e.subject&&null!==this.props.subject||!e.subject.equals(this.props.subject)}},{key:"render",value:function(){var e=this.props.subject;if(null===e)return null;var t=e.toJS(),n=t.id,r=t.title;return d.default.createElement("div",{className:"mb-mo-jumbotron","data-subject-id":n},d.default.createElement("div",{className:"jumbotron-content"},d.default.createElement("h1",{className:"subject-title"},d.default.createElement("span",{className:"title"},r)),d.default.createElement(S.default,null,d.default.createElement(w.default,{id:"general",title:"总览"},d.default.createElement(j.default,{subject:e})),d.default.createElement(w.default,{id:"casts",title:"演员"},d.default.createElement(b.default,{casts:e.get("casts")})),d.default.createElement(w.default,{id:"trailers",title:"预告片"},d.default.createElement(_.default,{trailers:e.get("trailers")})),d.default.createElement(w.default,{id:"comments",title:"评论"},d.default.createElement(h.default,{comments:e.get("popular_comments")})))),d.default.createElement(P.default,{slides:e.get("trailers")&&e.get("trailers").size?e.get("trailers"):e.get("photos")}))}}]),t}(d.default.Component),l.propTypes={subject:d.default.PropTypes.objectOf(f.default.Map)},l.defaultProps={subject:null},i);t.default=M},321:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,i,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(12),f=r(s),p=n(1),d=r(p),y=n(120),b=r(y);n(536);var m=(i=l=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={slideIndex:0},n}return u(t,e),c(t,[{key:"shouldComponentUpdate",value:function(e,t){return!e.slides.equals(this.props.slides)||t.slideIndex!==this.state.slideIndex}},{key:"componentWillUpdate",value:function(e){var t=this;e.slides.size&&!e.slides.equals(this.props.slides)&&(this.timer&&(clearInterval(this.timer),this.timer=null),this.timer=setInterval(function(){t.setState(function(e,t){var n=e.slideIndex+1;return n>t.slides.size-1&&(n=0),{slideIndex:n}})},3e3),this.setState({slideIndex:0}))}},{key:"componentWillUnmount",value:function(){this.timer&&(clearInterval(this.timer),this.timer=null)}},{key:"render",value:function(){var e=this.props.slides,t=e.get(this.state.slideIndex),n=null;return t&&(n=d.default.createElement("div",{key:t.get("id"),className:"slide",style:{backgroundImage:"url("+(t.get("image")?t.get("image"):t.get("medium"))+")"}})),d.default.createElement("div",{className:"mb-mo-slides"},d.default.createElement("div",{className:"slides"
},d.default.createElement(b.default,{transitionName:"slide-transition",transitionEnterTimeout:800,transitionLeaveTimeout:800},n)),d.default.createElement("div",{className:"mask"}))}}]),t}(d.default.Component),l.propTypes={slides:d.default.PropTypes.objectOf(f.default.List)},l.defaultProps={slides:f.default.fromJS([])},i);t.default=m},322:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,i,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(95),f=r(s),p=n(1),d=r(p);n(537);var y=(i=l=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={percentage:0},n}return u(t,e),c(t,[{key:"componentWillUpdate",value:function(e){var t=this;e.isLoading!==this.props.isLoading&&(this.clearTimer(),e.isLoading?(this.setState({percentage:15}),this.timer=setInterval(function(){t.setState(function(e){var t=e.percentage;return t>=98?t=98:t+=t>=90?1:15,{percentage:t}})},500)):this.setState({percentage:100}))}},{key:"componentWillUnmount",value:function(){this.clearTimer()}},{key:"clearTimer",value:function(){this.timer&&(clearInterval(this.timer),this.timer=null)}},{key:"render",value:function(){return d.default.createElement("div",{className:(0,f.default)("mb-progress-bar",{loading:this.props.isLoading})},d.default.createElement("div",{className:"percentage",style:{width:this.state.percentage+"%"}}))}}]),t}(d.default.Component),l.propTypes={isLoading:d.default.PropTypes.bool},l.defaultProps={isLoading:!1},i);t.default=y},323:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,i,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(12),f=r(s),p=n(1),d=r(p),y=n(199),b=r(y);n(539);var m=(i=l=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),c(t,[{key:"shouldComponentUpdate",value:function(e){return e.rating.get("average")!==this.props.rating.get("average")}},{key:"render",value:function(){var e=this.props.rating,t=parseInt(e.get("stars"),0),n=e.get("average");return d.default.createElement("div",{className:"mb-rating","data-stars":t},d.default.createElement("div",{className:"average"},n?n+" 分":"暂无"),d.default.createElement(b.default,{stars:t}))}}]),t}(d.default.Component),l.propTypes={rating:d.default.PropTypes.objectOf(f.default.Map).isRequired},i);t.default=m},324:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,i,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),f=r(s);n(540);var p=(i=l=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),c(t,[{key:"handleChange",value:function(e){var t=this,n=e.target.value.trim();this.clearChangingTimer(),this.changingTimer=setTimeout(function(){t.props.onQueryChange({query:""!==n?n:null})},360)}},{key:"clearChangingTimer",value:function(){this.changingTimer&&clearTimeout(this.changingTimer),this.changingTimer=null}},{key:"render",value:function(){var e=this;return f.default.createElement("div",{className:"mb-search-bar"},f.default.createElement("input",{type:"search",onChange:function(t){return e.handleChange(t)},placeholder:"影片名或艺术家"}),f.default.createElement("span",{className:"octicon icon-search"}))}}]),t}(f.default.Component),l.propTypes={onQueryChange:f.default.PropTypes.func.isRequired},i);t.default=p},325:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,i,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),f=r(s),p=(i=l=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),c(t,[{key:"render",value:function(){var e=this.props,t=e.id,n=e.children;return f.default.createElement("div",{id:t,className:"mb-tab"},n)}}]),t}(f.default.Component),l.propTypes={id:f.default.PropTypes.string.isRequired,title:f.default.PropTypes.string.isRequired,children:f.default.PropTypes.oneOfType([f.default.PropTypes.element,f.default.PropTypes.arrayOf(f.default.PropTypes.element)])},l.defaultProps={children:[]},i);t.default=p},326:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,i,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),f=r(s);n(542);var p=(i=l=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={selectedTabId:"general"},n}return u(t,e),c(t,[{key:"render",value:function(){var e=this,t=this.props.children,n=this.state.selectedTabId,r=f.default.Children.map(t,function(t){return f.default.createElement("li",{key:t.props.id,className:t.props.id===n?"selected":null,onClick:function(){t.props.id!==n&&e.setState({selectedTabId:t.props.id})}},f.default.createElement("a",{className:"h3",role:"button"},t.props.title))});return f.default.createElement("div",{className:"mb-tabs"},f.default.Children.map(t,function(e){return f.default.createElement("div",{className:n===e.props.id?"tab-body selected":"tab-body"},e)}),f.default.createElement("nav",{className:"tab-nav"},f.default.createElement("ul",null,r)))}}]),t}(f.default.Component),l.propTypes={children:f.default.PropTypes.oneOfType([f.default.PropTypes.element,f.default.PropTypes.arrayOf(f.default.PropTypes.element)])},l.defaultProps={children:[]},i);t.default=p},327:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,i,c,s,f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=n(54),d=n(45),y=n(82),b=n(12),m=r(b),h=n(1),v=r(h),_=n(309),g=r(_),j=n(310),O=r(j),P=n(322),E=r(P),w=n(324),T=r(w),S=n(122),M=r(S);n(524);var C=(l=(0,d.connect)(function(e){return{status:e.get("status")}},function(e){return{actions:(0,p.bindActionCreators)(M.default,e)}}),l((s=c=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),f(t,[{key:"handleQueryChange",value:function(e){null!==e.query?("/search"!==y.browserHistory.getCurrentLocation().pathname&&y.browserHistory.push("/search"),this.props.actions.search({query:e.query})):"/"!==y.browserHistory.getCurrentLocation().pathname&&y.browserHistory.push("/")}},{key:"render",value:function(){var e=this;return this.searchBar=v.default.createElement(T.default,{onQueryChange:function(t){return e.handleQueryChange(t)}}),v.default.createElement("div",{className:"mb-app"},v.default.createElement(O.default,{navbars:this.searchBar}),v.default.createElement(E.default,{isLoading:this.props.status.get("isLoading")}),this.props.children,v.default.createElement(g.default,null))}}]),t}(v.default.PureComponent),c.propTypes={status:v.default.PropTypes.objectOf(m.default.Map).isRequired,children:v.default.PropTypes.element,actions:v.default.PropTypes.shape({search:v.default.PropTypes.func.isRequired}).isRequired},c.defaultProps={children:[]},i=s))||i);t.default=C},328:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,i,c,s,f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=n(45),d=n(54),y=n(12),b=r(y),m=n(1),h=r(m),v=n(312),_=r(v),g=n(121),j=r(g),O=n(315),P=r(O),E=n(329),w=r(E),T=n(330),S=r(T);n(530);var M={inTheaters:"正在上映的电影",comingSoon:"即将上映的电影",top20:"豆瓣电影Top20"},C=(l=(0,p.connect)(function(e){return{selectedModelKey:e.getIn(["lolomo","selectedModelKey"])}},function(e){return{actions:(0,d.bindActionCreators)(j.default,e)}}),l((s=c=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),f(t,[{key:"render",value:function(){var e=this.props,t=e.actions.selectSubject,n=e.models,r=e.selectedModelKey,o=n.map(function(e,n){var o=M[n],a=r===n,u=null;return u=a?h.default.createElement(_.default,{actions:{close:function(){return t(null)}}},h.default.createElement(S.default,null)):null,h.default.createElement(P.default,{key:n,hasSelection:a,modelKey:n,title:o,jawBone:u},h.default.createElement(w.default,{subjects:e.get("subjects"),hasSelection:a,modelKey:n}))}).toArray();return h.default.createElement("div",{className:"mb-lolomo"},o)}}]),t}(h.default.PureComponent),c.propTypes={actions:h.default.PropTypes.shape({selectSubject:h.default.PropTypes.func.isRequired}).isRequired,models:h.default.PropTypes.objectOf(b.default.Map).isRequired,selectedModelKey:h.default.PropTypes.string},c.defaultProps={selectedModelKey:null},i=s))||i);t.default=C},329:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(45),a=n(1),u=(r(a),n(198)),l=r(u),i=n(121),c=r(i);t.default=(0,o.connect)(function(e){return{selectedSubjectId:e.getIn(["lolomo","selectedSubject","id"])}},function(e,t){return{actions:{selectSubject:function(n){e(c.default.selectSubject({subject:n,modelKey:t.modelKey})),n&&e(c.default.loadSubject(n.get("id")))}}}})(l.default)},330:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=(r(o),n(45)),u=n(320),l=r(u);t.default=(0,a.connect)(function(e){return{subject:e.getIn(["lolomo","selectedSubject"])}})(l.default)},331:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(197),a=r(o),u=[];t.default=function(e){return function(t){return function(n){if(n.payload instanceof Promise)"LOAD_SUBJECT"===n.type&&u.splice(0,u.length),u.push(n.type),e.getState().getIn(["status","isLoading"])||e.dispatch(a.default.load());else{var r=u.indexOf(n.type);r!==-1&&(u.splice(r,1),0===u.length&&e.getState().getIn(["status","isLoading"])&&e.dispatch(a.default.loadComplete()))}t(n)}}}},332:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,i,c,s,f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=n(45),d=n(54),y=n(12),b=r(y),m=n(1),h=r(m),v=n(122),_=r(v),g=n(328),j=r(g),O=(l=(0,p.connect)(function(e){return{models:e.get("models")}},function(e){return{actions:(0,d.bindActionCreators)(_.default,e)}}),l((s=c=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),f(t,[{key:"componentDidMount",value:function(){this.props.actions.loadInTheaters(),this.props.actions.loadComingSoon(),this.props.actions.loadTop20()}},{key:"render",value:function(){var e=b.default.Map({inTheaters:this.props.models.get("inTheaters"),comingSoon:this.props.models.get("comingSoon"),top20:this.props.models.get("top20")});return h.default.createElement("div",{className:"mb-page mb-home-page"},h.default.createElement(j.default,{models:e}))}}]),t}(h.default.PureComponent),c.propTypes={models:h.default.PropTypes.objectOf(b.default.Map).isRequired,actions:h.default.PropTypes.shape({loadComingSoon:h.default.PropTypes.func.isRequired,loadInTheaters:h.default.PropTypes.func.isRequired,loadTop20:h.default.PropTypes.func.isRequired}).isRequired},i=s))||i);t.default=O},333:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,i,c,s,f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=n(12),d=r(p),y=n(1),b=r(y),m=n(45),h=n(198),v=r(h);n(541);var _=(l=(0,m.connect)(function(e){return{searchResults:e.getIn(["models","searchResults"])}}),l((s=c=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),f(t,[{key:"render",value:function(){return console.log(this.props.searchResults.get("subjects")),b.default.createElement("div",{className:"mb-page mb-search-page"},b.default.createElement(v.default,{subjects:this.props.searchResults.get("subjects"),actions:{selectSubject:function(){}}}))}}]),t}(b.default.Component),c.propTypes={searchResults:b.default.PropTypes.objectOf(d.default.Map)},c.defaultProps={searchResults:d.default.fromJS({subjects:[]})},i=s))||i);t.default=_},334:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(194),a=n(335),u=r(a),l=n(336),i=r(l),c=n(337),s=r(c);t.default=(0,o.combineReducers)({lolomo:u.default,models:i.default,status:s.default})},335:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var a,u=n(53),l=n(12),i=r(l),c=n(121),s=r(c),f=i.default.fromJS({selectedSubject:null,selectedModelKey:null});t.default=(0,u.handleActions)((a={},o(a,s.default.selectSubject,function(e,t){var n=t.payload;if(n){var r=n.subject,o=n.modelKey;return e.merge({selectedSubject:r,selectedModelKey:r?o:null})}return f}),o(a,s.default.loadSubject,function(e,t){var n=t.payload;return e.set("selectedSubject",n)}),a),f)},336:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var a,u=n(53),l=n(12),i=r(l),c=n(122),s=r(c),f=i.default.fromJS({inTheaters:{count:0,subjects:[]},comingSoon:{count:0,subjects:[]},top20:{count:0,subjects:[]},searchResults:{count:0,subjects:[]}});t.default=(0,u.handleActions)((a={},o(a,s.default.loadInTheaters,function(e,t){var n=t.payload;return e.set("inTheaters",n)}),o(a,s.default.loadComingSoon,function(e,t){var n=t.payload;return e.set("comingSoon",n)}),o(a,s.default.loadTop20,function(e,t){var n=t.payload;return e.set("top20",n)}),o(a,s.default.search,function(e,t){var n=t.payload;return e.set("searchResults",n)}),a),f)},337:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var a,u=n(53),l=n(12),i=r(l),c=n(197),s=r(c),f=i.default.fromJS({isLoading:!1});t.default=(0,u.handleActions)((a={},o(a,s.default.load,function(e){return e.set("isLoading",!0)}),o(a,s.default.loadComplete,function(e){return e.set("isLoading",!1)}),a),f)},338:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(){return u.default.createElement(l.Route,{path:"/",component:c.default},u.default.createElement(l.IndexRoute,{component:f.default}),u.default.createElement(l.Route,{path:"/search",component:d.default}))}Object.defineProperty(t,"__esModule",{value:!0}),t.configRoutes=o;var a=n(1),u=r(a),l=n(82),i=n(327),c=r(i),s=n(332),f=r(s),p=n(333),d=r(p)},339:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(54),a=n(195),u=r(a),l=n(331),i=r(l);t.default=(0,o.applyMiddleware)(i.default,u.default)},340:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return i(a.createStore)(l.default,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.configStore=o;var a=n(54),u=n(334),l=r(u),i=n(339).default},522:function(e,t){},523:function(e,t){},524:function(e,t){},525:function(e,t){},526:function(e,t){},527:function(e,t){},528:function(e,t){},529:function(e,t){},530:function(e,t){},531:function(e,t){},532:function(e,t){},533:function(e,t){},534:function(e,t){},535:function(e,t){},536:function(e,t){},537:function(e,t){},538:function(e,t){},539:function(e,t){},540:function(e,t){},541:function(e,t){},542:function(e,t){},760:function(e,t,n){n(303),e.exports=n(307)},95:function(e,t,n){var r,o;/*!
  Copyright (c) 2016 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r))e.push(n.apply(null,r));else if("object"===o)for(var u in r)a.call(r,u)&&r[u]&&e.push(u)}}return e.join(" ")}var a={}.hasOwnProperty;"undefined"!=typeof e&&e.exports?e.exports=n:(r=[],o=function(){return n}.apply(t,r),!(void 0!==o&&(e.exports=o)))}()}},[760]);